{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\"; //slice\n\nconst holidaySlice = createSlice({\n  name: \"holidayList\",\n  initialState: {\n    holidayData: []\n  },\n  reducers: {\n    getHolidays(state, action) {\n      state.holidayData = action.payload;\n    },\n\n    addTodo(state, action) {\n      state.holidayData = action.payload;\n    }\n\n  }\n});\nexport const {\n  getHolidays,\n  addTodo\n} = holidaySlice.actions; //Actions\n\nexport const fetchUsers = year => async dispatch => {\n  if (typeof year === \"undefined\") {\n    year = moment().year();\n  }\n\n  axios.get(`http://localhost:4000/holiday/year/${year}`).then(res => {\n    dispatch(getHolidays(res.data));\n  });\n  axios.post(`http://localhost:4000/holiday`, todo).then(todo => {\n    dispatch({\n      type: \"ADD_TODO\",\n      todo\n    });\n  }).catch(error => {\n    console.log(error.response);\n  });\n}; //post \n// export const addTodo =(todo) => {\n//     return(dispatch,getstate) =>{\n// axios.post(`http://localhost:4000/holiday`,todo)\n// .then(todo =>{\n//     dispatch({\n//         type:\"ADD_TODO\",\n//         todo\n//     });\n// })\n// .catch(error =>{\n//     console.log(error.response)\n// })\n//     }\n// }\n\nexport const holidayListSliceState = state => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;","map":{"version":3,"sources":["/Users/sindhurin/development/quadacademy/task-11B/src/slice/holidaySlice.js"],"names":["createSlice","axios","moment","holidaySlice","name","initialState","holidayData","reducers","getHolidays","state","action","payload","addTodo","actions","fetchUsers","year","dispatch","get","then","res","data","post","todo","type","catch","error","console","log","response","holidayListSliceState","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB,C,CAEA;;AACA,MAAMC,YAAY,GAAGH,WAAW,CAAC;AAC7BI,EAAAA,IAAI,EAAE,aADuB;AAE7BC,EAAAA,YAAY,EAAE;AACVC,IAAAA,WAAW,EAAE;AADH,GAFe;AAK7BC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,WAAW,CAACC,KAAD,EAAQC,MAAR,EAAgB;AACvBD,MAAAA,KAAK,CAACH,WAAN,GAAoBI,MAAM,CAACC,OAA3B;AACH,KAHK;;AAINC,IAAAA,OAAO,CAACH,KAAD,EAAOC,MAAP,EAAe;AAClBD,MAAAA,KAAK,CAACH,WAAN,GAAoBI,MAAM,CAACC,OAA3B;AACH;;AANK;AALmB,CAAD,CAAhC;AAcA,OAAO,MAAM;AAAEH,EAAAA,WAAF;AAAgBI,EAAAA;AAAhB,IAA2BT,YAAY,CAACU,OAA9C,C,CAEP;;AACA,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AACpD,MAAI,OAAOD,IAAP,KAAgB,WAApB,EAAiC;AAC7BA,IAAAA,IAAI,GAAGb,MAAM,GAAGa,IAAT,EAAP;AACH;;AACDd,EAAAA,KAAK,CAACgB,GAAN,CAAW,sCAAqCF,IAAK,EAArD,EAAwDG,IAAxD,CAA8DC,GAAD,IAAS;AAClEH,IAAAA,QAAQ,CAACR,WAAW,CAACW,GAAG,CAACC,IAAL,CAAZ,CAAR;AACH,GAFD;AAGAnB,EAAAA,KAAK,CAACoB,IAAN,CAAY,+BAAZ,EAA2CC,IAA3C,EACKJ,IADL,CACUI,IAAI,IAAG;AACTN,IAAAA,QAAQ,CAAC;AACLO,MAAAA,IAAI,EAAC,UADA;AAELD,MAAAA;AAFK,KAAD,CAAR;AAIH,GANL,EAOKE,KAPL,CAOWC,KAAK,IAAG;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB;AACH,GATL;AAUH,CAjBM,C,CAkBP;AACA;AACA;AACQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACR;AACA;;AAEA,OAAO,MAAMC,qBAAqB,GAAIpB,KAAD,IAAWA,KAAK,CAACN,YAAN,CAAmBG,WAA5D;AACP,eAAeH,YAAY,CAAC2B,OAA5B","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n\n//slice\nconst holidaySlice = createSlice({\n    name: \"holidayList\",\n    initialState: {\n        holidayData: [],\n    },\n    reducers: {\n        getHolidays(state, action) {\n            state.holidayData = action.payload;\n        },\n        addTodo(state,action) {\n            state.holidayData = action.payload;\n        }\n    },\n});\nexport const { getHolidays , addTodo} = holidaySlice.actions;\n\n//Actions\nexport const fetchUsers = (year) => async (dispatch) => {\n    if (typeof year === \"undefined\") {\n        year = moment().year();\n    }\n    axios.get(`http://localhost:4000/holiday/year/${year}`).then((res) => {\n        dispatch(getHolidays(res.data));\n    });\n    axios.post(`http://localhost:4000/holiday`,todo)\n        .then(todo =>{\n            dispatch({\n                type:\"ADD_TODO\",\n                todo\n            });\n        })\n        .catch(error =>{\n            console.log(error.response)\n        })\n};\n//post \n// export const addTodo =(todo) => {\n//     return(dispatch,getstate) =>{\n        // axios.post(`http://localhost:4000/holiday`,todo)\n        // .then(todo =>{\n        //     dispatch({\n        //         type:\"ADD_TODO\",\n        //         todo\n        //     });\n        // })\n        // .catch(error =>{\n        //     console.log(error.response)\n        // })\n//     }\n// }\n\nexport const holidayListSliceState = (state) => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;\n"]},"metadata":{},"sourceType":"module"}