{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nconst intialState = {\n  id: \"\",\n  date: \"\",\n  description: \"\",\n  type: \"\",\n  location: \"\",\n  isComplete: false\n}; //crud\n// const todoReducere =createSlice({\n//     name:\"holidays\",\n//     intialState:intialState\n//     reducers: {\n//         switch(action.type){\n//             case \"ADD_TODO\":\n//              return [action.data.todo,...state]\n//              default:\n//                  return state;\n//          }\n// })\n\nconst todoReducer = (state = [], action) => {\n  switch (action.type) {\n    case \"ADD_TODO\":\n      return [action.todo.data, ...state];\n\n    case \"READ_TODO\":\n      return [action.todo.data, ...state];\n    // case \"UPDATE_TODO\" :\n    //  return state.map((todo) => {\n    //     //  todo._id === action.todo.data._id ? action.todo.data : todo\n    //  })\n    //  case \"DELETE_TODO\" :\n    //     return [action]\n\n    default:\n      console.log(state);\n      return state;\n  }\n}; //slice\n\n\nconst holidaySlice = createSlice({\n  name: \"holidayList\",\n  initialState: {\n    holidayData: []\n  },\n  reducers: {\n    getHolidays(state, action) {\n      state.holidayData = action.payload;\n    }\n\n  }\n});\nexport const {\n  getHolidays,\n  ADD_TODO,\n  READ_TODO\n} = holidaySlice.actions; //Actions\n\nexport const fetchUsers = year => async dispatch => {\n  if (typeof year === \"undefined\") {\n    year = moment().year();\n  }\n\n  axios.get(`http://localhost:4000/holiday/year/${year}`).then(res => {\n    console.log(\"res\", res.holidays.holidayId);\n    dispatch(getHolidays(res.data));\n  });\n}; // //post \n\nexport const addTodo = holiday => async dispatch => {\n  console.log(\"holiday\", holiday);\n  axios.post(`http://localhost:4000/holiday`, holiday).then(res => {\n    // console.log(\"sindu\",res.data)\n    dispatch(addTodo(res.data));\n  });\n}; //read the data\n\nexport const readTodo = id => async dispatch => {\n  // export const readTodo = (id) => {\n  return dispatch => {\n    axios.get(`http://localhost:4000/holiday/2708f1ab-06d2-4e26-82e8-15ebb3ada221`).then(res => {\n      // console.log(\"id\",id);\n      console.log(\"res***************\", res);\n      dispatch(readTodo(res.data));\n    });\n  };\n}; //     axios.get(`http://localhost:4000/holiday/${id}`).then((res) => {\n//         axios.get(`http://localhost:4000/holiday/8feeb8cd-88fc-413e-b672-3763c599dbcc`).then((res) => {\n//         console.log(\"id\",id);\n//         console.log(\"res***************\",res);\n//     dispatch(readTodo(res.data))\n//      })\n//     })\n//  }\n//update\n\nexport const updateTodo = (updatedTodo, id) => async dispatch => {\n  axios.put(`http://localhost:4000/holiday/${id}`, updatedTodo).then(res => {\n    dispatch(updateTodo(res.data));\n  });\n}; //  //delete\n\nexport const deleteTodo = id => async dispatch => {\n  axios.delete(`http://localhost:4000/holiday/;${id}`).then(res => {\n    dispatch(deleteTodo(res.data));\n  });\n};\nexport const holidayListSliceState = state => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;","map":{"version":3,"sources":["/Users/sindhurin/development/quadacademy/task-11B/src/slice/holidaySlice.js"],"names":["createSlice","axios","moment","intialState","id","date","description","type","location","isComplete","todoReducer","state","action","todo","data","console","log","holidaySlice","name","initialState","holidayData","reducers","getHolidays","payload","ADD_TODO","READ_TODO","actions","fetchUsers","year","dispatch","get","then","res","holidays","holidayId","addTodo","holiday","post","readTodo","updateTodo","updatedTodo","put","deleteTodo","delete","holidayListSliceState","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n const intialState ={\n     id:\"\",\n     date:\"\",\n    description:\"\",\n    type:\"\",\n    location:\"\",\n    isComplete:false\n } \n//crud\n// const todoReducere =createSlice({\n//     name:\"holidays\",\n//     intialState:intialState\n//     reducers: {\n//         switch(action.type){\n//             case \"ADD_TODO\":\n//              return [action.data.todo,...state]\n//              default:\n//                  return state;\n//          }\n// })\nconst todoReducer =(state = [],action) => {\n    \n    switch(action.type){\n       case \"ADD_TODO\" :\n        return [action.todo.data,...state]\n        case \"READ_TODO\" :\n        return [action.todo.data,...state]\n        // case \"UPDATE_TODO\" :\n        //  return state.map((todo) => {\n        //     //  todo._id === action.todo.data._id ? action.todo.data : todo\n        //  })\n        //  case \"DELETE_TODO\" :\n        //     return [action]\n        default:\n            console.log(state);\n            return state;\n    }\n}\n \n\n//slice\nconst holidaySlice = createSlice({\n    name: \"holidayList\",\n    initialState: {\n        holidayData: []\n    },\n    reducers: {\n        getHolidays(state, action) {\n            state.holidayData = action.payload;\n        },\n    },\n});\n\nexport const { getHolidays,ADD_TODO,READ_TODO} = holidaySlice.actions;\n\n\n//Actions\nexport const fetchUsers = (year) => async (dispatch) => {\n    \n    if (typeof year === \"undefined\") {\n        year = moment().year();\n    }\n    axios.get(`http://localhost:4000/holiday/year/${year}`).then((res) => {\n          console.log(\"res\",res.holidays.holidayId);\n        dispatch(getHolidays(res.data));\n    });\n    \n};\n// //post \n export const addTodo = (holiday) => async(dispatch) => {\n      console.log(\"holiday\",holiday);\n    \n        axios.post(`http://localhost:4000/holiday`,holiday).then((res) =>{\n            // console.log(\"sindu\",res.data)\n           dispatch(addTodo(res.data))\n        \n        })\n       \n    };\n\n//read the data\n export const readTodo = id => async(dispatch) => {\n    // export const readTodo = (id) => {\n        return dispatch =>{\n            axios.get(`http://localhost:4000/holiday/2708f1ab-06d2-4e26-82e8-15ebb3ada221`)\n            .then((res) => {\n                // console.log(\"id\",id);\n                console.log(\"res***************\",res);\n            dispatch(readTodo(res.data))\n        })  \n        } \n    }\n\n//     axios.get(`http://localhost:4000/holiday/${id}`).then((res) => {\n//         axios.get(`http://localhost:4000/holiday/8feeb8cd-88fc-413e-b672-3763c599dbcc`).then((res) => {\n//         console.log(\"id\",id);\n//         console.log(\"res***************\",res);\n//     dispatch(readTodo(res.data))\n    \n\n//      })\n//     })\n//  }\n //update\n export const updateTodo =(updatedTodo,id) =>async(dispatch) =>{\n     axios.put(`http://localhost:4000/holiday/${id}`,updatedTodo).then((res) =>{\n         dispatch(updateTodo(res.data))\n     })\n } \n//  //delete\n export const deleteTodo =(id) =>async(dispatch) =>  {\n     axios.delete(`http://localhost:4000/holiday/;${id}`).then((res) =>{\n         dispatch(deleteTodo(res.data))\n     })\n }\n\nexport const holidayListSliceState = (state) => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;\n"]},"metadata":{},"sourceType":"module"}