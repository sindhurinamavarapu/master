{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\"; // export const todoReducer =(state,action) => {\n//     switch(action.type){\n//        case \"ADD_TODO\" :\n//         return [action.todo.data,...state]\n//         case \"READ_TODO\" :\n//         return [action.todo.data,...state]\n//         case \"UPDATE_TODO\" :\n//          return state.map((todo) => {\n//               //todo._id === action.todo.data._id ? action.todo.data : todo\n//          })\n//          case \"DELETE_TODO\" :\n//             return [action]\n//         default:\n//             console.log(state);\n//             return state;\n//     }\n// }\n//slice\n\nconst holidaySlice = createSlice({\n  name: \"holidayList\",\n  initialState: {\n    holidayData: [],\n    holidayList: {}\n  },\n  reducers: {\n    getHolidays(state, action) {\n      // console.log(\"action.payload\",action.payload)\n      state.holidayData = action.payload;\n    },\n\n    setHolidays(state, action) {\n      state.holidayList = action.payload;\n    },\n\n    setForID(state, action) {\n      console.log(\"action.payload\", action);\n      state.dataforId = action.payload;\n    }\n\n  }\n});\nexport const {\n  getHolidays,\n  setHolidays,\n  setForID\n} = holidaySlice.actions; //Actions\n\nexport const fetchUsers = year => async dispatch => {\n  if (typeof year === \"undefined\") {\n    year = moment().year();\n  }\n\n  axios.get(`http://localhost:4000/holiday/year/${year}`).then(res => {\n    //    console.log(\"id\",res.holidays.holidays[0].holidayId);\n    console.log(\"res\", res.data);\n    dispatch(getHolidays(res.data)); // console.log(res.data,\"data\")\n  });\n}; //  //post \n\nexport const addTodo = holiday => async dispatch => {\n  console.log(\"holiday\", holiday);\n  axios.post(`http://localhost:4000/holiday`, holiday).then(res => {\n    // console.log(\"sindu\",res.data)\n    dispatch(addTodo(res.data));\n  });\n}; // //read the data\n\nexport const readTodo = id => async dispatch => {\n  console.log(\"hi\");\n  axios.get(`http://localhost:4000/holiday/${id}`).then(res => {\n    console.log(\"read\", res.data);\n    setAPIData(response.data);\n    dispatch(setForID(res.data));\n  });\n}; //update\n\nexport const updateTodo = (updatedTodo, id) => async dispatch => {\n  axios.put(`http://localhost:4000/holiday/${id}`, updatedTodo).then(res => {\n    dispatch(updateTodo(res.data));\n  });\n}; //delete\n\nexport const deleteTodo = id => async dispatch => {\n  axios.delete(`http://localhost:4000/holiday/${id}`).then(res => {\n    dispatch(deleteTodo(res.data));\n  });\n};\nexport const holidayListSliceState = state => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;","map":{"version":3,"sources":["/Users/sindhurin/development/quadacademy/task-11B/src/slice/holidaySlice.js"],"names":["createSlice","axios","moment","holidaySlice","name","initialState","holidayData","holidayList","reducers","getHolidays","state","action","payload","setHolidays","setForID","console","log","dataforId","actions","fetchUsers","year","dispatch","get","then","res","data","addTodo","holiday","post","readTodo","id","setAPIData","response","updateTodo","updatedTodo","put","deleteTodo","delete","holidayListSliceState","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n\n// export const todoReducer =(state,action) => {\n    \n//     switch(action.type){\n//        case \"ADD_TODO\" :\n//         return [action.todo.data,...state]\n//         case \"READ_TODO\" :\n//         return [action.todo.data,...state]\n//         case \"UPDATE_TODO\" :\n//          return state.map((todo) => {\n//               //todo._id === action.todo.data._id ? action.todo.data : todo\n//          })\n//          case \"DELETE_TODO\" :\n//             return [action]\n//         default:\n//             console.log(state);\n//             return state;\n//     }\n// }\n\n\n      \n\n//slice\nconst holidaySlice = createSlice({\n    name: \"holidayList\",\n    initialState: {\n       holidayData: [],\n       holidayList:{}\n     },\n    reducers: {\n        getHolidays(state, action) {\n            // console.log(\"action.payload\",action.payload)\n            state.holidayData = action.payload;\n        },\n        setHolidays(state,action){\n          \n            state.holidayList = action.payload;\n        },\n        setForID(state,action){\n            console.log(\"action.payload\",action)\n            state.dataforId =action.payload;\n        }\n    },\n});\n\nexport const { getHolidays,setHolidays,setForID} = holidaySlice.actions;\n\n\n//Actions\nexport const fetchUsers = (year) => async (dispatch) => {\n    \n    if (typeof year === \"undefined\") {\n        year = moment().year();\n    }\n    axios.get(`http://localhost:4000/holiday/year/${year}`).then((res) => {\n    //    console.log(\"id\",res.holidays.holidays[0].holidayId);\n        console.log(\"res\",res.data)\n        dispatch(getHolidays(res.data));\n        // console.log(res.data,\"data\")\n    });\n    \n};\n//  //post \n export const addTodo = (holiday) => async(dispatch) => {\n      console.log(\"holiday\",holiday);\n    \n        axios.post(`http://localhost:4000/holiday`,holiday).then((res) =>{\n            // console.log(\"sindu\",res.data)\n           dispatch(addTodo(res.data))\n        \n        })\n       \n    };\n\n// //read the data\n\n export const readTodo = (id )=> async(dispatch) => {\n    console.log(\"hi\")\n            axios.get(`http://localhost:4000/holiday/${id}`).then((res) => {\n            console.log(\"read\",res.data);\n            setAPIData(response.data)\n            dispatch(setForID(res.data))\n        })  \n     } \n    \n //update\n export const updateTodo =(updatedTodo,id) =>async(dispatch) =>{\n     axios.put(`http://localhost:4000/holiday/${id}`,updatedTodo).then((res) =>{\n         dispatch(updateTodo(res.data))\n     })\n } \n //delete\n export const deleteTodo =(id) =>async(dispatch) =>  {\n     axios.delete(`http://localhost:4000/holiday/${id}`).then((res) =>{\n         dispatch(deleteTodo(res.data))\n     })\n }\n\n\n\nexport const holidayListSliceState = (state) => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;\n"]},"metadata":{},"sourceType":"module"}