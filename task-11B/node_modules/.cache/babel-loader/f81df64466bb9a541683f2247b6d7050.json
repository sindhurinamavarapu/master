{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\"; //slice\n\nexport const holidaySlice = createSlice({\n  name: \"holidayList\",\n  initialState: {\n    holidayData: []\n  },\n  reducers: {\n    getHolidays(state, action) {\n      state.holidayData = action.payload;\n    },\n\n    addTodo(state = [], action) {\n      state.holidayData = action.payload;\n    } // readTodo(state,action){\n    //     state.holidayData =action.payload;\n    // },\n    // updateTodo(state,action){\n    //      state.holidayData =action.payload;\n    // const {date,description,type,location} = action.payload;\n    // const existingUser =state.find((user) =>user.id === id);\n    // if(existinguser) {\n    //     existingUser.date =date;\n    //     existingUser.description=description;\n    //     existingUser.type=type;\n    //     existingUser.location=location;\n    // }\n    // },\n    // deleteTodo(state,action){\n    //     state.holidayData =action.payload;\n    // },\n\n\n  }\n});\nexport const {\n  getHolidays\n} = holidaySlice.actions; //Actions\n\nexport const fetchUsers = year => async dispatch => {\n  if (typeof year === \"undefined\") {\n    year = moment().year();\n  }\n\n  axios.get(`http://localhost:4000/holiday/year/${year}`).then(res => {\n    dispatch(getHolidays(res.data));\n  });\n}; // //post \n\nexport const addTodo = todo => async (dispatch, getState) => {\n  console.log(\"hi\", dispatch);\n  axios.post(`http://localhost:4000/holiday`, todo).then(res => {\n    //    dispatch(addTodo(res.data))\n    dispatch({\n      type: \"ADD_TODO\",\n      todo\n    });\n  });\n}; // //read the data\n// export const readTodo = (id) =>async(dispatch) => {\n//     axios.get(`http://localhost:4000/holiday/:${id}`).then((res) => {\n//         dispatch(readTodo(res.data))\n//     })\n// }\n//  //update\n//  export const updateTodo =(id) =>async(dispatch) =>{\n//      axios.put(`http://localhost:4000/holiday/:${id}`).then((res) =>{\n//          dispatch(updateTodo(res.data))\n//      })\n//  } \n//  //delete\n//  export const deleteTodo =(id) =>async(dispatch) =>  {\n//      axios.delete(`http://localhost:4000/holiday/;${id}`).then((res) =>{\n//          dispatch(deleteTodo(res.data))\n//      })\n//  }\n\nexport const holidayListSliceState = state => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;","map":{"version":3,"sources":["/Users/sindhurin/development/quadacademy/task-11B/src/slice/holidaySlice.js"],"names":["createSlice","axios","moment","holidaySlice","name","initialState","holidayData","reducers","getHolidays","state","action","payload","addTodo","actions","fetchUsers","year","dispatch","get","then","res","data","todo","getState","console","log","post","type","holidayListSliceState","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB,C,CAIA;;AACA,OAAO,MAAMC,YAAY,GAAGH,WAAW,CAAC;AACpCI,EAAAA,IAAI,EAAE,aAD8B;AAEpCC,EAAAA,YAAY,EAAE;AACVC,IAAAA,WAAW,EAAE;AADH,GAFsB;AAKpCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,WAAW,CAACC,KAAD,EAAQC,MAAR,EAAgB;AACvBD,MAAAA,KAAK,CAACH,WAAN,GAAoBI,MAAM,CAACC,OAA3B;AACH,KAHK;;AAINC,IAAAA,OAAO,CAACH,KAAK,GAAC,EAAP,EAAUC,MAAV,EAAkB;AACrBD,MAAAA,KAAK,CAACH,WAAN,GAAoBI,MAAM,CAACC,OAA3B;AAEH,KAPK,CAQN;AACA;AACA;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;AACA;AACA;AACA;;;AAxBM;AAL0B,CAAD,CAAhC;AAgCP,OAAO,MAAM;AAAEH,EAAAA;AAAF,IAAiBL,YAAY,CAACU,OAApC,C,CAGP;;AACA,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AACpD,MAAI,OAAOD,IAAP,KAAgB,WAApB,EAAiC;AAC7BA,IAAAA,IAAI,GAAGb,MAAM,GAAGa,IAAT,EAAP;AACH;;AACDd,EAAAA,KAAK,CAACgB,GAAN,CAAW,sCAAqCF,IAAK,EAArD,EAAwDG,IAAxD,CAA8DC,GAAD,IAAS;AAElEH,IAAAA,QAAQ,CAACR,WAAW,CAACW,GAAG,CAACC,IAAL,CAAZ,CAAR;AACH,GAHD;AAKH,CATM,C,CAUP;;AACC,OAAO,MAAMR,OAAO,GAAIS,IAAD,IAAU,OAAML,QAAN,EAAeM,QAAf,KAA4B;AACrDC,EAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBR,QAAjB;AACDf,EAAAA,KAAK,CAACwB,IAAN,CAAY,+BAAZ,EAA2CJ,IAA3C,EAAiDH,IAAjD,CAAuDC,GAAD,IAAQ;AAC9D;AACAH,IAAAA,QAAQ,CAAC;AACLU,MAAAA,IAAI,EAAC,UADA;AAELL,MAAAA;AAFK,KAAD,CAAR;AAIC,GAND;AAQH,CAVG,C,CAYR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMM,qBAAqB,GAAIlB,KAAD,IAAWA,KAAK,CAACN,YAAN,CAAmBG,WAA5D;AACP,eAAeH,YAAY,CAACyB,OAA5B","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n\n\n\n//slice\nexport const holidaySlice = createSlice({\n    name: \"holidayList\",\n    initialState: {\n        holidayData: []\n    },\n    reducers: {\n        getHolidays(state, action) {\n            state.holidayData = action.payload;\n        },\n        addTodo(state=[],action) {\n            state.holidayData = action.payload;\n            \n        },\n        // readTodo(state,action){\n        //     state.holidayData =action.payload;\n        // },\n        // updateTodo(state,action){\n        //      state.holidayData =action.payload;\n            // const {date,description,type,location} = action.payload;\n            // const existingUser =state.find((user) =>user.id === id);\n            // if(existinguser) {\n            //     existingUser.date =date;\n            //     existingUser.description=description;\n            //     existingUser.type=type;\n            //     existingUser.location=location;\n            // }\n        // },\n        // deleteTodo(state,action){\n        //     state.holidayData =action.payload;\n        // },\n    },\n});\nexport const { getHolidays} = holidaySlice.actions;\n\n\n//Actions\nexport const fetchUsers = (year) => async (dispatch) => {\n    if (typeof year === \"undefined\") {\n        year = moment().year();\n    }\n    axios.get(`http://localhost:4000/holiday/year/${year}`).then((res) => {\n\n        dispatch(getHolidays(res.data));\n    });\n    \n};\n// //post \n export const addTodo = (todo) => async(dispatch,getState) => {\n         console.log(\"hi\",dispatch);\n        axios.post(`http://localhost:4000/holiday`,todo).then((res) =>{\n        //    dispatch(addTodo(res.data))\n        dispatch({\n            type:\"ADD_TODO\",\n            todo\n        })\n        })\n       \n    };\n\n// //read the data\n// export const readTodo = (id) =>async(dispatch) => {\n//     axios.get(`http://localhost:4000/holiday/:${id}`).then((res) => {\n//         dispatch(readTodo(res.data))\n//     })\n// }\n//  //update\n//  export const updateTodo =(id) =>async(dispatch) =>{\n//      axios.put(`http://localhost:4000/holiday/:${id}`).then((res) =>{\n//          dispatch(updateTodo(res.data))\n//      })\n//  } \n//  //delete\n//  export const deleteTodo =(id) =>async(dispatch) =>  {\n//      axios.delete(`http://localhost:4000/holiday/;${id}`).then((res) =>{\n//          dispatch(deleteTodo(res.data))\n//      })\n//  }\n\nexport const holidayListSliceState = (state) => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;\n"]},"metadata":{},"sourceType":"module"}