{"ast":null,"code":"import { Today } from \"@material-ui/icons\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nconst currentYear = moment().format(\"YYYY\");\nconst today = parseInt(currentYear); //slice\n\nconst holidaySlice = createSlice({\n  name: \"holidayList\",\n  initialState: {\n    year: today,\n    holidayData: [],\n    holidayList: {\n      id: \"\",\n      date: \"\",\n      location: \"\",\n      type: \"\",\n      description: \"\"\n    }\n  },\n  reducers: {\n    getHolidays(state, action) {\n      state.holidayData = action.payload;\n    },\n\n    setHolidays(state, action) {\n      state.holidayData = action.payload;\n    },\n\n    setForId(state, action) {\n      // console.log(\"action.payload\",action)\n      state.holidayList = action.payload;\n      console.log(\"action.payload\", action.payload);\n    }\n\n  }\n});\nexport const {\n  getHolidays,\n  setHolidays,\n  setForId\n} = holidaySlice.actions; //Actions\n\nexport const fetchUsers = year => async dispatch => {\n  if (typeof year === \"undefined\") {\n    year = moment().year();\n  }\n\n  axios.get(`http://localhost:4000/holiday/year/${year}`).then(res => {\n    dispatch(setHolidays(res.data.Data));\n    dispatch(getHolidays(res.data));\n    dispatch(setForId({\n      id: \"\",\n      location: \"All\",\n      type: \"F\",\n      date: \"\",\n      description: \"\"\n    }));\n  });\n}; //  //post \n\nexport const addTodo = holidayList => async dispatch => {\n  console.log(\"holidayList\", holidayList);\n  axios.post(`http://localhost:4000/holiday`, JSON.stringify(holidayList).then(res => {\n    // console.log(\"sindu\",res.data)\n    dispatch(addTodo(res.data));\n    dispatch(setForId({ ...holidayList,\n      id: res.data\n    }));\n  }));\n}; // //read the data\n\nexport const readTodo = id => async dispatch => {\n  //  console.log(\"before calling api\",id);\n  // console.log(\"hi\")\n  axios.get(`http://localhost:4000/holiday/${id}`).then(res => {\n    console.log(\"read\", res.data);\n    dispatch(setForId(res.data));\n  });\n}; //update\n\nexport const updateTodo = (updatedTodo, id) => async dispatch => {\n  axios.put(`http://localhost:4000/holiday/${id}`, updatedTodo).then(res => {\n    dispatch(setForId(res.data));\n  });\n}; //delete\n\nexport const deleteTodo = id => async dispatch => {\n  axios.delete(`http://localhost:4000/holiday/${id}`).then(res => {\n    dispatch(setForId(res.data));\n  });\n};\nexport const holidayListSliceState = state => state.holidaySlice.holidayData;\nexport const holidayListSliceState1 = state => state.holidaySlice.dataforId;\nexport default holidaySlice.reducer;","map":{"version":3,"sources":["/Users/sindhurin/development/quadacademy/task-11B/src/slice/holidaySlice.js"],"names":["Today","createSlice","axios","moment","currentYear","format","today","parseInt","holidaySlice","name","initialState","year","holidayData","holidayList","id","date","location","type","description","reducers","getHolidays","state","action","payload","setHolidays","setForId","console","log","actions","fetchUsers","dispatch","get","then","res","data","Data","addTodo","post","JSON","stringify","readTodo","updateTodo","updatedTodo","put","deleteTodo","delete","holidayListSliceState","holidayListSliceState1","dataforId","reducer"],"mappings":"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","sourcesContent":["import { Today } from \"@material-ui/icons\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n\nconst currentYear = moment().format(\"YYYY\");\nconst today = parseInt(currentYear);\n//slice\nconst holidaySlice = createSlice({\n    name: \"holidayList\",\n    initialState: {\n        year:today,\n       holidayData: [],\n       holidayList:{\n           id:\"\",\n           date:\"\",\n           location:\"\",\n           type:\"\",\n           description:\"\"\n       },\n\n     },\n    reducers: {\n        getHolidays(state, action) {\n            state.holidayData = action.payload;\n        },\n        setHolidays(state,action){\n          \n            state.holidayData = action.payload;\n        },\n        setForId(state,action){\n            // console.log(\"action.payload\",action)\n            state.holidayList =action.payload;\n             console.log(\"action.payload\",action.payload)\n        }\n    }\n});\n\nexport const { getHolidays,setHolidays,setForId} = holidaySlice.actions;\n\n\n//Actions\nexport const fetchUsers = (year) => async (dispatch) => {\n    \n    if (typeof year === \"undefined\") {\n        year = moment().year();\n    }\n    axios.get(`http://localhost:4000/holiday/year/${year}`).then((res) => {\n         dispatch(setHolidays(res.data.Data));\n         dispatch(getHolidays(res.data));\n         dispatch(\n             setForId({\n                 id:\"\",\n                 location:\"All\",\n                 type:\"F\",\n                 date:\"\",\n                 description:\"\",\n             })\n         )\n       \n    });\n    \n};\n//  //post \n export const addTodo = (holidayList) => async(dispatch) => {\n      console.log(\"holidayList\",holidayList);\n    \n        axios.post(`http://localhost:4000/holiday`,JSON.stringify(holidayList).then((res) =>{\n            // console.log(\"sindu\",res.data)\n           dispatch(addTodo(res.data))\n            dispatch(setForId({...holidayList,id:res.data}))\n        })\n       \n        )}\n\n// //read the data\n\n export const readTodo = (id )=> async(dispatch) => {\n    //  console.log(\"before calling api\",id);\n    // console.log(\"hi\")\n            axios.get(`http://localhost:4000/holiday/${id}`).then((res) => {\n                 console.log(\"read\",res.data)\n             dispatch(setForId(res.data))\n             \n\n        })  \n     } \n    \n //update\n export const updateTodo =(updatedTodo,id) =>async(dispatch) =>{\n     axios.put(`http://localhost:4000/holiday/${id}`,updatedTodo).then((res) =>{\n         dispatch(setForId(res.data))\n     })\n } \n //delete\n export const deleteTodo =(id) =>async(dispatch) =>  {\n     axios.delete(`http://localhost:4000/holiday/${id}`).then((res) =>{\n         dispatch(setForId(res.data))\n     })\n }\n\n\n\nexport const holidayListSliceState = (state) => state.holidaySlice.holidayData;\n export const holidayListSliceState1=(state) =>state.holidaySlice.dataforId;\nexport default holidaySlice.reducer;\n\n\n\n"]},"metadata":{},"sourceType":"module"}