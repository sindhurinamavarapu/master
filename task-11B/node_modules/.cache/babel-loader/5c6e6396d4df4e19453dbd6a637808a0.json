{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nconst intialState = {\n  date: \"\",\n  description: \"\",\n  type: \"\",\n  location: \"\",\n  isComplete: false\n}; //crud\n// const todoReducere =createSlice({\n//     name:\"holidays\",\n//     intialState:intialState\n//     reducers: {\n//         switch(action.type){\n//             case \"ADD_TODO\":\n//              return [action.data.todo,...state]\n//              default:\n//                  return state;\n//          }\n// })\n\nconst todoReducer = (state = [], action) => {\n  switch (action.type) {\n    case \"ADD_TODO\":\n      console.log(action);\n      return [action.todo, ...state];\n\n    case \"VIEW_TODO\":\n    default:\n      return state;\n  }\n}; //slice\n\n\nconst holidaySlice = createSlice({\n  name: \"holidayList\",\n  initialState: {\n    holidayData: []\n  },\n  reducers: {\n    getHolidays(state, action) {\n      state.holidayData = action.payload;\n    }\n\n  }\n});\nexport const {\n  getHolidays,\n  ADD_TODO\n} = holidaySlice.actions; //Actions\n\nexport const fetchUsers = year => async dispatch => {\n  if (typeof year === \"undefined\") {\n    year = moment().year();\n  }\n\n  axios.get(`http://localhost:4000/holiday/year/${year}`).then(res => {\n    dispatch(getHolidays(res.data));\n  });\n}; // //post \n\nexport const addTodo = holiday => async (dispatch, getState) => {\n  //  console.log(\"holiday\",holiday);\n  axios.post(`http://localhost:4000/holiday`, holiday).then(res => {\n    // console.log(\"sindu\",res.data)\n    dispatch(addTodo(res.data)); // dispatch({\n    //     type:\"ADD_TODO\",\n    //     todo\n    // })\n  });\n}; // //read the data\n// export const readTodo = (id) =>async(dispatch) => {\n//     axios.get(`http://localhost:4000/holiday/:${id}`).then((res) => {\n//         dispatch(readTodo(res.data))\n//     })\n// }\n//  //update\n//  export const updateTodo =(id) =>async(dispatch) =>{\n//      axios.put(`http://localhost:4000/holiday/:${id}`).then((res) =>{\n//          dispatch(updateTodo(res.data))\n//      })\n//  } \n//  //delete\n//  export const deleteTodo =(id) =>async(dispatch) =>  {\n//      axios.delete(`http://localhost:4000/holiday/;${id}`).then((res) =>{\n//          dispatch(deleteTodo(res.data))\n//      })\n//  }\n\nexport const holidayListSliceState = state => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;","map":{"version":3,"sources":["/Users/sindhurin/development/quadacademy/task-11B/src/slice/holidaySlice.js"],"names":["createSlice","axios","moment","intialState","date","description","type","location","isComplete","todoReducer","state","action","console","log","todo","holidaySlice","name","initialState","holidayData","reducers","getHolidays","payload","ADD_TODO","actions","fetchUsers","year","dispatch","get","then","res","data","addTodo","holiday","getState","post","holidayListSliceState","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACC,MAAMC,WAAW,GAAE;AACfC,EAAAA,IAAI,EAAC,EADU;AAEhBC,EAAAA,WAAW,EAAC,EAFI;AAGhBC,EAAAA,IAAI,EAAC,EAHW;AAIhBC,EAAAA,QAAQ,EAAC,EAJO;AAKhBC,EAAAA,UAAU,EAAC;AALK,CAAnB,C,CAOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,WAAW,GAAE,CAACC,KAAK,GAAG,EAAT,EAAYC,MAAZ,KAAuB;AAEtC,UAAOA,MAAM,CAACL,IAAd;AACG,SAAK,UAAL;AACCM,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,aAAO,CAACA,MAAM,CAACG,IAAR,EAAa,GAAGJ,KAAhB,CAAP;;AACA,SAAK,WAAL;AAEA;AACI,aAAOA,KAAP;AAPR;AASH,CAXD,C,CAcA;;;AACA,MAAMK,YAAY,GAAGf,WAAW,CAAC;AAC7BgB,EAAAA,IAAI,EAAE,aADuB;AAE7BC,EAAAA,YAAY,EAAE;AACVC,IAAAA,WAAW,EAAE;AADH,GAFe;AAK7BC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,WAAW,CAACV,KAAD,EAAQC,MAAR,EAAgB;AACvBD,MAAAA,KAAK,CAACQ,WAAN,GAAoBP,MAAM,CAACU,OAA3B;AACH;;AAHK;AALmB,CAAD,CAAhC;AAWA,OAAO,MAAM;AAAED,EAAAA,WAAF;AAAcE,EAAAA;AAAd,IAA0BP,YAAY,CAACQ,OAA7C,C,CAGP;;AACA,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AACpD,MAAI,OAAOD,IAAP,KAAgB,WAApB,EAAiC;AAC7BA,IAAAA,IAAI,GAAGvB,MAAM,GAAGuB,IAAT,EAAP;AACH;;AACDxB,EAAAA,KAAK,CAAC0B,GAAN,CAAW,sCAAqCF,IAAK,EAArD,EAAwDG,IAAxD,CAA8DC,GAAD,IAAS;AAElEH,IAAAA,QAAQ,CAACN,WAAW,CAACS,GAAG,CAACC,IAAL,CAAZ,CAAR;AACH,GAHD;AAKH,CATM,C,CAUP;;AACC,OAAO,MAAMC,OAAO,GAAIC,OAAD,IAAa,OAAMN,QAAN,EAAeO,QAAf,KAA4B;AAC7D;AAEIhC,EAAAA,KAAK,CAACiC,IAAN,CAAY,+BAAZ,EAA2CF,OAA3C,EAAoDJ,IAApD,CAA0DC,GAAD,IAAQ;AAC7D;AACDH,IAAAA,QAAQ,CAACK,OAAO,CAACF,GAAG,CAACC,IAAL,CAAR,CAAR,CAF8D,CAGjE;AACA;AACA;AACA;AACC,GAPD;AASH,CAZG,C,CAcR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMK,qBAAqB,GAAIzB,KAAD,IAAWA,KAAK,CAACK,YAAN,CAAmBG,WAA5D;AACP,eAAeH,YAAY,CAACqB,OAA5B","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n const intialState ={\n     date:\"\",\n    description:\"\",\n    type:\"\",\n    location:\"\",\n    isComplete:false\n } \n//crud\n// const todoReducere =createSlice({\n//     name:\"holidays\",\n//     intialState:intialState\n//     reducers: {\n//         switch(action.type){\n//             case \"ADD_TODO\":\n//              return [action.data.todo,...state]\n//              default:\n//                  return state;\n//          }\n// })\nconst todoReducer =(state = [],action) => {\n    \n    switch(action.type){\n       case \"ADD_TODO\":\n        console.log(action);\n        return [action.todo,...state]\n        case \"VIEW_TODO\":\n            \n        default:\n            return state;\n    }\n}\n \n\n//slice\nconst holidaySlice = createSlice({\n    name: \"holidayList\",\n    initialState: {\n        holidayData: []\n    },\n    reducers: {\n        getHolidays(state, action) {\n            state.holidayData = action.payload;\n        },\n    },\n});\nexport const { getHolidays,ADD_TODO} = holidaySlice.actions;\n\n\n//Actions\nexport const fetchUsers = (year) => async (dispatch) => {\n    if (typeof year === \"undefined\") {\n        year = moment().year();\n    }\n    axios.get(`http://localhost:4000/holiday/year/${year}`).then((res) => {\n\n        dispatch(getHolidays(res.data));\n    });\n    \n};\n// //post \n export const addTodo = (holiday) => async(dispatch,getState) => {\n    //  console.log(\"holiday\",holiday);\n         \n        axios.post(`http://localhost:4000/holiday`,holiday).then((res) =>{\n            // console.log(\"sindu\",res.data)\n           dispatch(addTodo(res.data))\n        // dispatch({\n        //     type:\"ADD_TODO\",\n        //     todo\n        // })\n        })\n       \n    };\n\n// //read the data\n// export const readTodo = (id) =>async(dispatch) => {\n//     axios.get(`http://localhost:4000/holiday/:${id}`).then((res) => {\n//         dispatch(readTodo(res.data))\n//     })\n// }\n//  //update\n//  export const updateTodo =(id) =>async(dispatch) =>{\n//      axios.put(`http://localhost:4000/holiday/:${id}`).then((res) =>{\n//          dispatch(updateTodo(res.data))\n//      })\n//  } \n//  //delete\n//  export const deleteTodo =(id) =>async(dispatch) =>  {\n//      axios.delete(`http://localhost:4000/holiday/;${id}`).then((res) =>{\n//          dispatch(deleteTodo(res.data))\n//      })\n//  }\n\nexport const holidayListSliceState = (state) => state.holidaySlice.holidayData;\nexport default holidaySlice.reducer;\n"]},"metadata":{},"sourceType":"module"}